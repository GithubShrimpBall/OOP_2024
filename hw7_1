#include <iostream>
using namespace std;

class Histogram {
    int count[26];
    string str;
public:
    Histogram(string s);
    void makeHisto();
    //멤버변수str의 문자열을 알파벳순으로 갯수를 계산하는 함수
    void operator !();
    // 알파벳순으로 갯수를 출력하는 중복 연산자 함수
    Histogram& operator << (string s);
    // 중복 연산자 함수. 리턴 타입 Histogram
    Histogram& operator << (char c);
    // 중복 연산자 함수. 리턴 타입 Histogram
};

Histogram::Histogram(string s) {
    str = s;
    for (int i = 0; i < 26; i++) {
        count[i] = 0;
    }
}

void Histogram::makeHisto() {
    for (int i = 0; i < 26; i++) {
        count[i] = 0;
    }
    for (int i = 0; i < str.length(); i++) {
        if (isalpha(str[i])) {
            count[tolower(str[i]) - 'a']++;
        }
       
    }
}

void Histogram::operator !() {
    int alpha = 0;

    for(int i=0; i<26; i++){
        alpha += count[i];
    }
    cout << str << endl;

    cout << "총 알파벳 수: " << alpha << endl;
    for (int i = 0; i < 26; i++) {
        cout << (char)('a' + i) << ": ";
        for (int j = 0; j < count[i]; j++) {
            cout << "*";
        }
        cout << endl;
    }
}

Histogram& Histogram::operator << (string s) {
    str += s;
    makeHisto();
    return *this;
}

Histogram& Histogram::operator << (char c) {
    str += c;
    makeHisto();
    return *this;
}

int main() {
Histogram song("Wise men say, \nonly fools rush in But I can't help, \n");
song << "falling" << " in love with you." << "- by "; // 히스토그램에 문자열 추가
song << 'k' << 'i' << 't'; // 히스토그램에 문자 추가
!song; // 히스토그램 출력
}
